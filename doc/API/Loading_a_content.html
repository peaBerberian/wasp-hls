<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width, initial-scale=1"><meta charset="utf-8"><link rel="stylesheet" href="../styles/style.css"/><link rel="stylesheet" href="../styles/code.css"/><title>Loading a content</title></head><body class="no-js"><script type="text/javascript">document.body.className = "";window.rootUrl = "..";</script><div class="page-wrapper"><nav class="navbar-parent"><div class="navbar-wrapper"><div class="navbar-items"><button aria-label="Open website index" class="hamburger-opener"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="logo-link" href="https://github.com/peaBerberian/wasp-hls"><img alt="Logo" class="navbar-item navbar-item-logo" src="../images/logo_big.png" /></a><a class="navbar-item hideable"href="../Getting_Started/Welcome.html">Getting Started</a>
<a class="navbar-item navbar-active hideable"href="./Overview.html">API</a>
<a class="navbar-item hideable"href="https://peaberberian.github.io/wasp-hls/index.html">Demo</a>
<span class="navbar-item search-icon last-left"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><title>search</title><path d="M19 17l-5.15-5.15a7 7 0 1 0-2 2L17 19zM3.5 8A4.5 4.5 0 1 1 8 12.5 4.5 4.5 0 0 1 3.5 8z"/><script xmlns=""/></svg></span>
<a aria-label="Link to repository" class="navbar-item first-right github-link hideable" href="https://github.com/peaBerberian/wasp-hls"><svg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'><path d='M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12'/></svg></a></div></div> </nav><aside class="sidebar-parent"><div class="sidebar-header"><a href="https://github.com/peaBerberian/wasp-hls"><img alt="logo" class="sidebar-header-logo" src="../images/logo_big.png" /></a></div><div class="sidebar-wrapper"><div class="sidebar-items"><li class="sidebar-item"><a class="sidebar-link" href="./Overview.html">API Overview</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Instantiation.html">WaspHlsPlayer Instantiation</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Initialization.html">Initialization</a></li><li class="sidebar-item"><a class="sidebar-link active" href="./Loading_a_content.html">Loading a content</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Player_Events.html">Player Events</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Configuration_Object.html">Configuration Object</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Player_Errors.html">Player Errors</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Audio_Volume_Management.html">Audio Volume Management</a></li><li class="sidebar-item"><div class="sidebar-item sidebar-item-group">Basic Methods</div><ul><li class="sidebar-item"><a class="sidebar-link" href="./Basic_Methods/initialize.html">initialize</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Basic_Methods/load.html">load</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Basic_Methods/updateConfig.html">updateConfig</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Basic_Methods/getConfig.html">getConfig</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Basic_Methods/getPlayerState.html">getPlayerState</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Basic_Methods/pause.html">Pause</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Basic_Methods/resume.html">Resume</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Basic_Methods/getError.html">getError</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Basic_Methods/stop.html">stop</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Basic_Methods/addEventListener.html">addEventListener</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Basic_Methods/removeEventListener.html">removeEventListener</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Basic_Methods/dispose.html">dispose</a></li></ul></li><li class="sidebar-item"><div class="sidebar-item sidebar-item-group">Playback Information</div><ul><li class="sidebar-item"><a class="sidebar-link" href="./Playback_Information/isPlaying.html">isPlaying</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Playback_Information/isPaused.html">isPaused</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Playback_Information/isRebuffering.html">isRebuffering</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Playback_Information/isEnded.html">isEnded</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Playback_Information/isLive.html">isLive</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Playback_Information/isVod.html">isVod</a></li></ul></li><li class="sidebar-item"><div class="sidebar-item sidebar-item-group">Position Control</div><ul><li class="sidebar-item"><a class="sidebar-link" href="./Position_Control/getPosition.html">getPosition</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Position_Control/seek.html">seek</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Position_Control/getMinimumPosition.html">getMinimumPosition</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Position_Control/getMaximumPosition.html">getMaximumPosition</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Position_Control/getMediaDuration.html">getMediaDuration</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Position_Control/getMediaOffset.html">getMediaOffset</a></li></ul></li><li class="sidebar-item"><div class="sidebar-item sidebar-item-group">Speed Control</div><ul><li class="sidebar-item"><a class="sidebar-link" href="./Speed_Control/setSpeed.html">setSpeed</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Speed_Control/getSpeed.html">getSpeed</a></li></ul></li><li class="sidebar-item"><div class="sidebar-item sidebar-item-group">Variant Selection</div><ul><li class="sidebar-item"><a class="sidebar-link" href="./Variant_Selection/getCurrentVariant.html">getCurrentVariant</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Variant_Selection/getVariantList.html">getVariantList</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Variant_Selection/lockVariant.html">lockVariant</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Variant_Selection/unlockVariant.html">unlockVariant</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Variant_Selection/getLockedVariant.html">getLockedVariant</a></li></ul></li><li class="sidebar-item"><div class="sidebar-item sidebar-item-group">Audio Track Selection</div><ul><li class="sidebar-item"><a class="sidebar-link" href="./Audio_Track_Selection/getCurrentAudioTrack.html">getCurrentAudioTrack</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Audio_Track_Selection/getAudioTrackList.html">getAudioTrackList</a></li><li class="sidebar-item"><a class="sidebar-link" href="./Audio_Track_Selection/setAudioTrack.html">setAudioTrack</a></li></ul></li></div></div></aside><div class="content-wrapper"><div class="content"><div id="search-wrapper"><input type="search" name="search" id="searchbar" placeholder="Search in this documentation" class="active" /><div id="search-results"></div></div><html><head></head><body><p><a name="loading_a_content"></a></p>
<h1>Loading a content</h1>
<p><a name="description"></a></p>
<h2>Description</h2>
<p>Loading a content through the <code>WaspHlsPlayer</code> can only be done once it has been
<a href="./Instantiation.html">instantiated</a> and once <a href="./Initialization.html"><code>initialize</code></a>
has been called (it is not necessary to await the returned Promise).</p>
<p>This is the step where the URL of the Multivariant Playlist (before known as the
“Master Playlist”) is provided to the <code>WaspHlsPlayer</code>, that takes care of media
playback.</p>
<p>That step is done through the <code>load</code> method, through a very straightforward
call:</p>
<pre><code class="language-js"><span class="hljs-comment">// Here `MultivariantPlaylistUrl` is the HTTP(S) URL to the Multivariant</span>
<span class="hljs-comment">// Playlist</span>
player.<span class="hljs-title function_">load</span>(<span class="hljs-title class_">MultivariantPlaylistUrl</span>);
</code></pre>
<p>You can then be notified of where the load operation is at (whether it is still
loading the content, has loaded it or encountered an error) by either listening
to <a href="./Player_Events.html">the <code>"playerStateChange"</code> event</a> or at any point in time
by calling <a href="./Basic_Methods/getPlayerState.html">the <code>getPlayerState</code> method</a>:</p>
<pre><code class="language-js">player.<span class="hljs-title function_">addEventlistener</span>(<span class="hljs-string">"playerStateChange"</span>, <span class="hljs-function">(<span class="hljs-params">playerState</span>) =&gt;</span> {
  <span class="hljs-keyword">switch</span> (playerState) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">"Loading"</span>:
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"A new content is loading."</span>);
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">"Loaded"</span>:
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"The last loaded content is currently loaded."</span>);
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">"Error"</span>:
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(
        <span class="hljs-string">"The last loaded content cannot play anymore due to an error."</span>
      );
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">"Stopped"</span>:
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"No content is currently loaded nor loading."</span>);
      <span class="hljs-keyword">break</span>;
  }
});
</code></pre>
<p>Note that the <code>WaspHlsPlayer</code> doesn’t automatically begin playback once the
content is loaded. To do so, you have to call the <a href="./Basic_Methods/resume.html"><code>resume</code></a>
method once the <code>"Loaded"</code> player state is reached:</p>
<pre><code class="language-js"><span class="hljs-comment">// Automatically play the content once it's loaded</span>
player.<span class="hljs-title function_">addEventlistener</span>(<span class="hljs-string">"playerStateChange"</span>, <span class="hljs-function">(<span class="hljs-params">playerState</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (playerState === <span class="hljs-string">"Loaded"</span>) {
    player.<span class="hljs-title function_">resume</span>();
  }
});
</code></pre>
<p><a name="options"></a></p>
<h2>Options</h2>
<p><code>load</code> also can take an optional second argument, an object representing its
options.</p>
<p>For now there’s only one optional property that can be set inside it,
<code>startingPosition</code>.</p>
<p><a name="%60startingposition%60"></a></p>
<h3><code>startingPosition</code></h3>
<p><em>type: <code>number | object | undefined</code></em></p>
<p>The <code>startingPosition</code> option allows to indicate a preferred position at which
playback should begin.</p>
<p>If not set or set to <code>undefined</code>, the <code>WaspHlsPlayer</code> will decide by itself
where to begin in the content, based on content information. In most cases, this
is what you want.</p>
<h4>As a number</h4>
<p>If you do want to start at a specific position, <code>startingPosition</code> can be set
as a number, which will corresponds to the wanted starting position, in terms
of content time (the position as deduced from the HLS Media Playlists, which may
not be the same than the media time inside media segments) in seconds.</p>
<p>For example, to begin playback of a VoD content at the second <code>10</code>, you can
write:</p>
<pre><code class="language-js">player.<span class="hljs-title function_">load</span>(playlistUrl, {
  <span class="hljs-attr">startingPosition</span>: <span class="hljs-number">10</span>,
});
</code></pre>
<p>Or to play some live contents at what was recorded one minute ago, you could
write:</p>
<pre><code class="language-js"><span class="hljs-comment">// Unix timestamp, in seconds, corresponding to now minus 1 minute</span>
<span class="hljs-keyword">const</span> date = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() / <span class="hljs-number">1000</span> - <span class="hljs-number">60</span>;

player.<span class="hljs-title function_">load</span>(playlistUrl, {
  <span class="hljs-attr">startingPosition</span>: date,
});
</code></pre>
<h4>As an object</h4>
<p>More complex relative wanted starting positions can be communicated by setting
<code>startingPosition</code> to an object instead.</p>
<p>Those objects each have two properties, <code>startType</code>, a string indicating the
type of relative or absolute position, and <code>position</code> indicating the position
value.</p>
<p>A relative position to the initially minimum or maximum position can this way
be given respectively by setting <code>startType</code> to <code>"FromBeginning"</code> and
<code>"FromEnd"</code>.</p>
<p>For example, to start playback 10 seconds before the last initially available
position (10 seconds before the end for a VoD content, or before live for a live
content), you can write:</p>
<pre><code class="language-js">player.<span class="hljs-title function_">load</span>(playlistUrl, {
  <span class="hljs-attr">startingPosition</span>: {
    <span class="hljs-attr">startType</span>: <span class="hljs-string">"FromEnd"</span>,
    <span class="hljs-attr">position</span>: <span class="hljs-number">10</span>,
  },
});
</code></pre>
<p>If you however want to play 10 seconds after the first initially available
position, you can write:</p>
<pre><code class="language-js">player.<span class="hljs-title function_">load</span>(playlistUrl, {
  <span class="hljs-attr">startingPosition</span>: {
    <span class="hljs-attr">startType</span>: <span class="hljs-string">"FromBeginning"</span>,
    <span class="hljs-attr">position</span>: <span class="hljs-number">10</span>,
  },
});
</code></pre>
<p>For completeness-sake, it’s also possible to communicate through an object an
absolute position, exactly as if a number was directly communicated, you can
do so through the <code>"Absolute"</code> <code>startType</code>.
Thus to start at exactly the second <code>30</code>, you can write:</p>
<pre><code class="language-js">player.<span class="hljs-title function_">load</span>(playlistUrl, {
  <span class="hljs-attr">startingPosition</span>: {
    <span class="hljs-attr">startType</span>: <span class="hljs-string">"Absolute"</span>,
    <span class="hljs-attr">position</span>: <span class="hljs-number">30</span>,
  },
});
</code></pre>
</body></html><nav class="next-previous-page-wrapper" aria-label="Navigate between pages"><div class="next-or-previous-page"><a class="next-or-previous-page-link" href="./Initialization.html"><div class="next-or-previous-page-link-label">Previous</div><div class="next-or-previous-page-link-name">Initialization</div></a></div><div class="next-or-previous-page next-page"><a class="next-or-previous-page-link" href="./Player_Events.html"><div class="next-or-previous-page-link-label">Next</div><div class="next-or-previous-page-link-name">Player Events</div></a></div></nav></div><div class="tocbar-wrapper"><div class="tocbar"><p><a href="#loading_a_content">Loading a content</a></p>
<ul>
<li><a href="#description">Description</a></li>
<li><a href="#options">Options</a>
<ul>
<li><a href="#%60startingposition%60"><code>startingPosition</code></a></li>
</ul>
</li>
</ul>
</div></div></div></div><div class="hamburger-bar"><div class="hamburger-header"><span class="hamburger-title">Page List</span><button aria-label="Close website index" type="button" class="hamburger-bar-closer"><svg viewBox="0 0 15 15" width="21" height="21"><g stroke="black" stroke-width="1.2"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><ul class="page-list-wrapper"><li class="page-list-item"><div class="page-list-group">Getting Started</div><ul class="page-list-cat-group"><li class="page-list-item"><a href="../Getting_Started/Welcome.html">Welcome</a></li>
<li class="page-list-item"><a href="../Getting_Started/Creating_a_WaspHlsPlayer.html">Creating a WaspHlsPlayer</a></li></ul></li>
<li class="page-list-item"><div class="page-list-group opened active">API</div><ul class="page-list-cat-group"><li class="page-list-item"><a href="./Overview.html">API Overview</a></li>
<li class="page-list-item"><a href="./Instantiation.html">WaspHlsPlayer Instantiation</a></li>
<li class="page-list-item"><a href="./Initialization.html">Initialization</a></li>
<li class="page-list-item active"><a href="./Loading_a_content.html">Loading a content</a></li>
<li class="page-list-item"><a href="./Player_Events.html">Player Events</a></li>
<li class="page-list-item"><a href="./Configuration_Object.html">Configuration Object</a></li>
<li class="page-list-item"><a href="./Player_Errors.html">Player Errors</a></li>
<li class="page-list-item"><a href="./Audio_Volume_Management.html">Audio Volume Management</a></li>
<li><div class="page-list-item page-list-group">Basic Methods</div><ul class="page-list-group-group"><li class="page-list-item"><a href="./Basic_Methods/initialize.html">initialize</a></li>
<li class="page-list-item"><a href="./Basic_Methods/load.html">load</a></li>
<li class="page-list-item"><a href="./Basic_Methods/updateConfig.html">updateConfig</a></li>
<li class="page-list-item"><a href="./Basic_Methods/getConfig.html">getConfig</a></li>
<li class="page-list-item"><a href="./Basic_Methods/getPlayerState.html">getPlayerState</a></li>
<li class="page-list-item"><a href="./Basic_Methods/pause.html">Pause</a></li>
<li class="page-list-item"><a href="./Basic_Methods/resume.html">Resume</a></li>
<li class="page-list-item"><a href="./Basic_Methods/getError.html">getError</a></li>
<li class="page-list-item"><a href="./Basic_Methods/stop.html">stop</a></li>
<li class="page-list-item"><a href="./Basic_Methods/addEventListener.html">addEventListener</a></li>
<li class="page-list-item"><a href="./Basic_Methods/removeEventListener.html">removeEventListener</a></li>
<li class="page-list-item"><a href="./Basic_Methods/dispose.html">dispose</a></li></ul></li>
<li><div class="page-list-item page-list-group">Playback Information</div><ul class="page-list-group-group"><li class="page-list-item"><a href="./Playback_Information/isPlaying.html">isPlaying</a></li>
<li class="page-list-item"><a href="./Playback_Information/isPaused.html">isPaused</a></li>
<li class="page-list-item"><a href="./Playback_Information/isRebuffering.html">isRebuffering</a></li>
<li class="page-list-item"><a href="./Playback_Information/isEnded.html">isEnded</a></li>
<li class="page-list-item"><a href="./Playback_Information/isLive.html">isLive</a></li>
<li class="page-list-item"><a href="./Playback_Information/isVod.html">isVod</a></li></ul></li>
<li><div class="page-list-item page-list-group">Position Control</div><ul class="page-list-group-group"><li class="page-list-item"><a href="./Position_Control/getPosition.html">getPosition</a></li>
<li class="page-list-item"><a href="./Position_Control/seek.html">seek</a></li>
<li class="page-list-item"><a href="./Position_Control/getMinimumPosition.html">getMinimumPosition</a></li>
<li class="page-list-item"><a href="./Position_Control/getMaximumPosition.html">getMaximumPosition</a></li>
<li class="page-list-item"><a href="./Position_Control/getMediaDuration.html">getMediaDuration</a></li>
<li class="page-list-item"><a href="./Position_Control/getMediaOffset.html">getMediaOffset</a></li></ul></li>
<li><div class="page-list-item page-list-group">Speed Control</div><ul class="page-list-group-group"><li class="page-list-item"><a href="./Speed_Control/setSpeed.html">setSpeed</a></li>
<li class="page-list-item"><a href="./Speed_Control/getSpeed.html">getSpeed</a></li></ul></li>
<li><div class="page-list-item page-list-group">Variant Selection</div><ul class="page-list-group-group"><li class="page-list-item"><a href="./Variant_Selection/getCurrentVariant.html">getCurrentVariant</a></li>
<li class="page-list-item"><a href="./Variant_Selection/getVariantList.html">getVariantList</a></li>
<li class="page-list-item"><a href="./Variant_Selection/lockVariant.html">lockVariant</a></li>
<li class="page-list-item"><a href="./Variant_Selection/unlockVariant.html">unlockVariant</a></li>
<li class="page-list-item"><a href="./Variant_Selection/getLockedVariant.html">getLockedVariant</a></li></ul></li>
<li><div class="page-list-item page-list-group">Audio Track Selection</div><ul class="page-list-group-group"><li class="page-list-item"><a href="./Audio_Track_Selection/getCurrentAudioTrack.html">getCurrentAudioTrack</a></li>
<li class="page-list-item"><a href="./Audio_Track_Selection/getAudioTrackList.html">getAudioTrackList</a></li>
<li class="page-list-item"><a href="./Audio_Track_Selection/setAudioTrack.html">setAudioTrack</a></li></ul></li></ul></li>
<li class="page-list-item"><a href="https://peaberberian.github.io/wasp-hls/index.html">Demo</a></li>

<li class="page-list-item"><a aria-label="Link to repository" href="https://github.com/peaBerberian/wasp-hls"><svg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'><path d='M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12'/></svg></a></li></ul></div><script type="text/javascript" src="../scripts/lunr.js" charset="utf-8"></script><script type="text/javascript" src="../scripts/script.js" charset="utf-8"></script></body></html>